<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Antecipação de Recebíveis</title>

		<link rel="stylesheet" href="http://unpkg.com/dc@3/dc.css">
		<link rel="stylesheet" type="text/css" href="bootstrap.css">


	</head>
	<body>
		<h1>Antecipação de Recebíveis</h1>


		<div id="carType"></div>


		<script src="https://d3js.org/d3.v5.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter2/1.4.7/crossfilter.js"></script>
		<script src="http://unpkg.com/dc@3/dc.js"></script>

		<script type="text/javascript">

			var carTypeChart = dc.barChart("#carType");

			// Full dataset could give issues because of gzip
			// var url = "data.csv";
			var url = "data.csv";

			d3.csv(url).then(function (data){

				data.forEach(function (d) {
					d.Ord = +d.Ord;
				});

				var ndx = crossfilter(data);
				var carTypeDim = ndx.dimension(function (d) { return d["Atraso"]; });
				var carTypeGroup = carTypeDim.group();



				carTypeChart
					.width(768)
					.height(480)
					.x(d3.scaleLinear().domain([6,20]))
					.brushOn(false)
					.yAxisLabel("This is the Y Axis!")
					.dimension(carTypeDim)
					.group(carTypeGroup)
					.elasticX(true);

				carTypeChart.render();

			});
		</script>
	</body>
</html>